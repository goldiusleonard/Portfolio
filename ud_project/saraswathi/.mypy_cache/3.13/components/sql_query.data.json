{".class":"MypyFile","_fullname":"components.sql_query","future_import_flags":[],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","Any":{".class":"SymbolTableNode","cross_ref":"typing.Any","kind":"Gdef"},"DataSummary":{".class":"SymbolTableNode","cross_ref":"components.datamodel.DataSummary","kind":"Gdef"},"PerformanceLogger":{".class":"SymbolTableNode","cross_ref":"logging_library.performancelogger.performance_logger.PerformanceLogger","kind":"Gdef"},"TARGET_TOKEN_LIMIT":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_inferred","has_explicit_value"],"fullname":"components.sql_query.TARGET_TOKEN_LIMIT","name":"TARGET_TOKEN_LIMIT","type":"builtins.int"}},"Tuple":{".class":"SymbolTableNode","cross_ref":"typing.Tuple","kind":"Gdef"},"Union":{".class":"SymbolTableNode","cross_ref":"typing.Union","kind":"Gdef"},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"components.sql_query.__annotations__","name":"__annotations__","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"components.sql_query.__doc__","name":"__doc__","type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"components.sql_query.__file__","name":"__file__","type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"components.sql_query.__name__","name":"__name__","type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"components.sql_query.__package__","name":"__package__","type":"builtins.str"}},"__spec__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"components.sql_query.__spec__","name":"__spec__","type":"importlib.machinery.ModuleSpec"}},"_generate_sql":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,1,1,1],"arg_names":["llama70b_client","data_summary","chart_id","chart_type","chart_axis","filters","aggregations","database_name","table_name","logging_url","code_level_logger","question","chart_title","instruction"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query._generate_sql","name":"_generate_sql","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,1,1,1],"arg_names":["llama70b_client","data_summary","chart_id","chart_type","chart_axis","filters","aggregations","database_name","table_name","logging_url","code_level_logger","question","chart_title","instruction"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"components.datamodel.DataSummary","builtins.int","builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.list"},"builtins.str","builtins.str","builtins.str","logging.Logger",{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_generate_sql","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"calculate_token_usage":{".class":"SymbolTableNode","cross_ref":"components.utils.token.calculate_token_usage","kind":"Gdef"},"classify_instruction_time_duration":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["instruction"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.classify_instruction_time_duration","name":"classify_instruction_time_duration","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["instruction"],"arg_types":["builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"classify_instruction_time_duration","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"classify_instruction_timeframe":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["instruction"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.classify_instruction_timeframe","name":"classify_instruction_timeframe","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["instruction"],"arg_types":["builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"classify_instruction_timeframe","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"classify_time_duration":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["chart_title","question"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.classify_time_duration","name":"classify_time_duration","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["chart_title","question"],"arg_types":["builtins.str","builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"classify_time_duration","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"classify_timeframe":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["chart_title","question"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.classify_timeframe","name":"classify_timeframe","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["chart_title","question"],"arg_types":["builtins.str","builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"classify_timeframe","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"fetch_failed_sql_charts":{".class":"SymbolTableNode","cross_ref":"components.utils.feedback_filter.fetch_failed_sql_charts","kind":"Gdef"},"fetch_feedback":{".class":"SymbolTableNode","cross_ref":"components.utils.feedback_filter.fetch_feedback","kind":"Gdef"},"fetch_filtered_feedbacks":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1],"arg_names":["question","table_name","logger","db_tag"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.fetch_filtered_feedbacks","name":"fetch_filtered_feedbacks","type":null}},"filter_feedback":{".class":"SymbolTableNode","cross_ref":"components.utils.feedback_filter.filter_feedback","kind":"Gdef"},"filter_feedback_by_options":{".class":"SymbolTableNode","cross_ref":"components.utils.feedback_filter.filter_feedback_by_options","kind":"Gdef"},"fuzz":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"components.sql_query.fuzz","name":"fuzz","type":{".class":"AnyType","missing_import_name":"components.sql_query.fuzz","source_any":null,"type_of_any":3}}},"generate_aggregation_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["aggregations","chart_type","data_summary"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_aggregation_instruction","name":"generate_aggregation_instruction","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["aggregations","chart_type","data_summary"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.list"},"builtins.str","components.datamodel.DataSummary"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_aggregation_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_alias_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["chart_type"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_alias_instruction","name":"generate_alias_instruction","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["chart_type"],"arg_types":["builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_alias_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_axis_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["chart_type","chart_axis","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_axis_instruction","name":"generate_axis_instruction","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["chart_type","chart_axis","code_level_logger"],"arg_types":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},"logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_axis_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_backtick_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["data_summary"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_backtick_instruction","name":"generate_backtick_instruction","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["data_summary"],"arg_types":["components.datamodel.DataSummary"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_backtick_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_bad_samples":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0],"arg_names":["data_summary","chart_type","chart_axis","chart_title","question","timeframe","time_duration","table_name","total_num_tokens","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_bad_samples","name":"generate_bad_samples","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0],"arg_names":["data_summary","chart_type","chart_axis","chart_title","question","timeframe","time_duration","table_name","total_num_tokens","code_level_logger"],"arg_types":["components.datamodel.DataSummary","builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},"builtins.str","builtins.str","builtins.str","builtins.str","builtins.str","builtins.int","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_bad_samples","ret_type":{".class":"TupleType","implicit":false,"items":["builtins.str","builtins.int"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_beautiful_table_sql_query":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0],"arg_names":["database_name","table_name","sql_library","data_summary"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_beautiful_table_sql_query","name":"generate_beautiful_table_sql_query","type":{".class":"CallableType","arg_kinds":[0,0,0,0],"arg_names":["database_name","table_name","sql_library","data_summary"],"arg_types":["builtins.str","builtins.str","builtins.str","components.datamodel.DataSummary"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_beautiful_table_sql_query","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_chart_axis_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["chart_axis","chart_type"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_chart_axis_instruction","name":"generate_chart_axis_instruction","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["chart_axis","chart_type"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},"builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_chart_axis_instruction","ret_type":{".class":"TupleType","implicit":false,"items":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.list"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_cleaned_chart_axis":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["chart_axis"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_cleaned_chart_axis","name":"generate_cleaned_chart_axis","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["chart_axis"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_cleaned_chart_axis","ret_type":{".class":"TupleType","implicit":false,"items":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.list"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_column_information_prompt":{".class":"SymbolTableNode","cross_ref":"components.utils.prompt.generate_column_information_prompt","kind":"Gdef"},"generate_datatype_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["data_summary"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_datatype_instruction","name":"generate_datatype_instruction","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["data_summary"],"arg_types":["components.datamodel.DataSummary"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_datatype_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_date_instructions":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0],"arg_names":["data_summary","chart_axis","timeframe","time_duration","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_date_instructions","name":"generate_date_instructions","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0],"arg_names":["data_summary","chart_axis","timeframe","time_duration","code_level_logger"],"arg_types":["components.datamodel.DataSummary",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},"builtins.str","builtins.str","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_date_instructions","ret_type":{".class":"TupleType","implicit":false,"items":["builtins.str","builtins.str","builtins.str"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_filter_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["filters"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_filter_instruction","name":"generate_filter_instruction","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["filters"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_filter_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_median_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["data_summary","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_median_instruction","name":"generate_median_instruction","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["data_summary","code_level_logger"],"arg_types":["components.datamodel.DataSummary","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_median_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_query_samples":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0],"arg_names":["data_summary","chart_type","chart_axis","chart_title","question","timeframe","time_duration","table_name","total_num_tokens","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_query_samples","name":"generate_query_samples","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0],"arg_names":["data_summary","chart_type","chart_axis","chart_title","question","timeframe","time_duration","table_name","total_num_tokens","code_level_logger"],"arg_types":["components.datamodel.DataSummary","builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},"builtins.str","builtins.str","builtins.str","builtins.str","builtins.str","builtins.int","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_query_samples","ret_type":{".class":"TupleType","implicit":false,"items":["builtins.str","builtins.int"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_sql_native_lang":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["data_summary","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_sql_native_lang","name":"generate_sql_native_lang","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["data_summary","code_level_logger"],"arg_types":["components.datamodel.DataSummary","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_sql_native_lang","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_sql_query":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0],"arg_names":["llama70b_client","data_summary","chart_type_data","filters","aggregations","database_name","table_name","logging_url","session_id","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_sql_query","name":"generate_sql_query","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0],"arg_names":["llama70b_client","data_summary","chart_type_data","filters","aggregations","database_name","table_name","logging_url","session_id","code_level_logger"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"components.datamodel.DataSummary",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.list"},"builtins.str","builtins.str","builtins.str","builtins.str","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_sql_query","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_syntax_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["data_summary"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_syntax_instruction","name":"generate_syntax_instruction","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["data_summary"],"arg_types":["components.datamodel.DataSummary"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_syntax_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"generate_table_instruction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["data_summary","database_name","table_name"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.generate_table_instruction","name":"generate_table_instruction","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["data_summary","database_name","table_name"],"arg_types":["components.datamodel.DataSummary","builtins.str","builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_table_instruction","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"get_required_axis_columns":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["chart_axis"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.get_required_axis_columns","name":"get_required_axis_columns","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["chart_axis"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_required_axis_columns","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"logger":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_inferred","has_explicit_value"],"fullname":"components.sql_query.logger","name":"logger","type":"logging.Logger"}},"logging":{".class":"SymbolTableNode","cross_ref":"logging","kind":"Gdef"},"native":{".class":"SymbolTableNode","cross_ref":"components.cmysql.native","kind":"Gdef"},"normalize_chart_type":{".class":"SymbolTableNode","cross_ref":"components.utils.general.normalize_chart_type","kind":"Gdef"},"os":{".class":"SymbolTableNode","cross_ref":"os","kind":"Gdef"},"perf_counter":{".class":"SymbolTableNode","cross_ref":"time.perf_counter","kind":"Gdef"},"postprocess_sql":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0],"arg_names":["response","database_name","table_name","data_summary","AXIS_KEY_LIST","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.postprocess_sql","name":"postprocess_sql","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0],"arg_names":["response","database_name","table_name","data_summary","AXIS_KEY_LIST","code_level_logger"],"arg_types":["builtins.str","builtins.str","builtins.str","components.datamodel.DataSummary",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.list"},"logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"postprocess_sql","ret_type":{".class":"TupleType","implicit":false,"items":["builtins.str","builtins.str"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"re":{".class":"SymbolTableNode","cross_ref":"re","kind":"Gdef"},"requests":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"components.sql_query.requests","name":"requests","type":{".class":"AnyType","missing_import_name":"components.sql_query.requests","source_any":null,"type_of_any":3}}},"traceback":{".class":"SymbolTableNode","cross_ref":"traceback","kind":"Gdef"},"validate_numerical_columns_for_histogram":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["sql_query","data_summary","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.validate_numerical_columns_for_histogram","name":"validate_numerical_columns_for_histogram","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["sql_query","data_summary","code_level_logger"],"arg_types":["builtins.str","components.datamodel.DataSummary","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"validate_numerical_columns_for_histogram","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"verify_sql_statement":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["data_summary","sql_string","code_level_logger"],"dataclass_transform_spec":null,"flags":[],"fullname":"components.sql_query.verify_sql_statement","name":"verify_sql_statement","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["data_summary","sql_string","code_level_logger"],"arg_types":["components.datamodel.DataSummary","builtins.str","logging.Logger"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"verify_sql_statement","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"path":"components/sql_query.py"}